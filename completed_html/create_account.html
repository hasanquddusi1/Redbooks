<!DOCTYPE html>
<html>

<head>

    <title>
        Red Books Login
    </title>
    <link rel="stylesheet" href="https://therealredbook.s3.us-east-2.amazonaws.com/css/login.css">

</head>
<body>  
    <div class="nav-bar">
        <a href="https://therealredbook.s3.us-east-2.amazonaws.com/html/index.html">
        <img src="https://therealredbook.s3.us-east-2.amazonaws.com/red_book_logo.png" alt="logo" class="logo">
        </a>
        <ul class="links">
            <li><a href="https://therealredbook.s3.us-east-2.amazonaws.com/html/contact.html">Contact Us</a></li>
            <li><a href="https://therealredbook.s3.us-east-2.amazonaws.com/html/faq.html">FAQ</a></li>
            <li><a href="https://therealredbook.s3.us-east-2.amazonaws.com/html/edit.html">Settings</a></li>
        </ul>
    </div>

    <img src="https://therealredbook.s3.us-east-2.amazonaws.com/stacked_books.jpeg" alt="books" class="background-books">

    <div class="container">
        <div class="quote">
            <p id="quote">The more that you read, the more things you will know. The more that you learn, the more places you’ll go.</p>
            <span class="author" id="author">
                <br> —Dr. Seuss
            </span>
        </div>
        <img src="https://therealredbook.s3.us-east-2.amazonaws.com/book_photo.jpg" alt="login-photo" class="login-photo">

    <form method="POST" id="create" class="login-box">
        <h1>Welcome</h1>
        <input type="text" name="user_name" id="user_name" placeholder="User Name" required ></input>
        <input type="password" name="password" id="password" placeholder="Password" required></input>
        <input type="password" name="password" id="confirmPassword" placeholder="Re-enter Password" required></input>
        <input type="submit" value="Sign-Up"></input>
    </form>

    </div>

<script>
    const quoteText = document.getElementById("quote")
    const author = document.getElementById("author");
    const loginError = document.getElementById("error");
    
    const bookList = { 
    1:{"quote":"The reading of all good books is like a conversation with the finest minds of past centuries", author:"—Rene Descartes"}, 
    2:{"quote": "The more that you read, the more things you will know. The more that you learn, the more places you’ll go.", author: "—Dr. Seuss"}, 
    3:{"quote": "A capacity, and taste, for reading gives access to whatever has already been discovered by others.", author: "—Abraham Lincoln"},
    4:{"quote": "Reading is to the mind what exercise is to the body.", author: "—Joseph Addison"},
    5:{"quote": "Reading is a discount ticket to everywhere.", author: "—Mary Schmich"},
    6:{"quote": "Reading is an active, imaginative act; it takes work.", author: "—Khaled Hosseini"},
    7:{"quote": "Books are the plane, and the train, and the road. They are the destination, and the journey. They are home.", author:"—Anna Quindlen"},
    8:{"quote": "′Classic′ - a book which people praise and don't read.", author:"―Mark Twain"},
    9:{"quote": "A children's story that can only be enjoyed by children is not a good children's story in the slightest.", author:"― C.S. Lewis"}
    };

    const quoteNumber = Math.floor(Math.random() * 10);
    quoteText.innerHTML = bookList[quoteNumber]["quote"];
    author.innerHTML = bookList[quoteNumber]["author"];
    console.log(bookList[quoteNumber]["quote"]);
    console.log(bookList[quoteNumber]["author"]);

    async function postUser(usr, pass){
        data = {"customerUserName":usr, "customerPassword":pass}
        console.log("make request")
        const res = fetch('http://localhost:5000/red-books/create', {
            method: 'POST',
            mode: "no-cors",
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            credentials: 'same-origin', // include, *same-origin, omit
            headers: {
            'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        })
        window.location.href = "https://therealredbook.s3.us-east-2.amazonaws.com/html/login.html";
        
    }

    function logSubmit() {
        console.log("SUBMITtttt")
        const username = document.getElementById("user_name").value
        const password = document.getElementById("password").value
        const confirmPassword = document.getElementById("confirmPassword").value

        if(password==confirmPassword){
            console.log("Rreeeeee")
            postUser(username, password)
        }
    }

    const form = document.getElementById("create")
    form.addEventListener('submit', logSubmit);



</script>

</body>
</html>